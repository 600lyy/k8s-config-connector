PATCH https://clouddeploy.googleapis.com/v1/projects/${projectId}/locations/us-central1/deliveryPipelines/test-pipeline-$%7BuniqueId%7D?alt=json&allowMissing=True&updateMask=%2A%2Clabels
Accept: application/json
Authorization: (removed)
Connection: keep-alive
Content-Type: application/json

{
  "name": "projects/${projectId}/locations/us-central1/deliveryPipelines/test-pipeline-${uniqueId}",
  "serialPipeline": {
    "stages": [
      {
        "targetId": "test-target-${uniqueId}"
      }
    ]
  }
}

400 Bad Request
Content-Type: application/json; charset=UTF-8
Server: ESF
Vary: Origin
Vary: X-Origin
Vary: Referer
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
X-Xss-Protection: 0

{
  "error": {
    "code": 400,
    "details": [
      {
        "@type": "type.googleapis.com/google.rpc.DebugInfo",
        "detail": "resource ID is not valid RFC 3986: test-pipeline-${uniqueId}",
        "stackEntries": [
          "cloud/control2/shared/userfriendly/userfriendly.go:1165 +0x25 google3/cloud/control2/shared/userfriendly/userfriendly.DebugInfoWithMessage({0xc173a26cc0, 0x3c})",
          "cloud/control2/shared/userfriendly/userfriendly.go:1160 +0x2b google3/cloud/control2/shared/userfriendly/userfriendly.debugInfoWithError({0x558225c1add8?, 0xc152ae56e0?})",
          "cloud/control2/shared/userfriendly/userfriendly.go:847 +0xc5 google3/cloud/control2/shared/userfriendly/userfriendly.MalformedName({0x558225d76a88, 0xc152ae5020}, {0xc1e9d08589, 0x19}, {0x558218c5c5e6, 0x1f}, {0x558225c1add8, 0xc152ae56e0})",
          "cloud/control2/shared/userfriendly/userfriendly.go:1115 +0x135 google3/cloud/control2/shared/userfriendly/userfriendly.FromInputError({0x558225d76a88?, 0xc152ae5020?}, {0x558225c1add8?, 0xc152ae56e0?})",
          "cloud/control2/shared/resourcename/qualifiedname.go:131 +0x4bb google3/cloud/control2/shared/resourcename/nameresolver.(*NameResolver).FromResourcePath(0xc1a655a000, {0x558225d76a88, 0xc152ae5020}, {0xc1e9d08540, 0x62}, 0x0)",
          "cloud/control2/shared/resourcename/qualifiedname.go:110 +0x17f google3/cloud/control2/shared/resourcename/nameresolver.(*NameResolver).FromRequest(0xc1a655a000, {0x558225d76a88, 0xc152ae5020}, {0xc0679f52f0, 0x18}, 0xc197be5c80, 0x0)",
          "cloud/control2/frontend/handler/handler.go:364 +0x9f9 google3/cloud/control2/frontend/handler/handler.Handler.start({{{0x558225d808f0, 0xc002a05240}, {0x0, 0x0}}, {{0xc008238610, 0x1, 0x1}, 0xc009236420, 0xc008238600, {0x558225d92d60, ...}, ...}, ...}, ...)",
          "cloud/control2/frontend/handler/handler.go:276 +0x66 google3/cloud/control2/frontend/handler/handler.init.func17({_, _}, {{{0x558225d808f0, 0xc002a05240}, {0x0, 0x0}}, {{0xc008238610, 0x1, 0x1}, 0xc009236420, ...}, ...}, ...)",
          "cloud/control2/frontend/handler/handler.go:271 +0x173 google3/cloud/control2/frontend/handler/handler.Handler.HandleRequest({{{0x558225d808f0, 0xc002a05240}, {0x0, 0x0}}, {{0xc008238610, 0x1, 0x1}, 0xc009236420, 0xc008238600, {0x558225d92d60, ...}, ...}, ...}, ...)",
          "cloud/control2/frontend/server/request_handler.go:111 +0x55c google3/cloud/control2/frontend/server/requesthandler.(*Handler).handleRequestWithFullMethodName(0xc009429440, {0x558225d76a88, 0xc152ae4d80}, 0xc197be5640, 0xc1599f6e58, 0xc1599f7290, {0xc1db503f10?, 0x55821bac73e7?})",
          "cloud/control2/frontend/server/request_handler.go:84 +0x536 google3/cloud/control2/frontend/server/requesthandler.(*Handler).handleRequest(0xc009429440, {0x558225d76a88, 0xc152ae4d80}, 0xc1599f6e58, 0xc1599f7290)",
          "cloud/control2/frontend/server/request_handler.go:53 +0x25 google3/cloud/control2/frontend/server/requesthandler.(*Handler).handle(0xc0efd37308?, {0x558225d76a88, 0xc152ae4d80}, 0x558223a140c0?, 0xc0ba39b101?)",
          "cloud/control2/shared/genericrpc/service.go:172 +0x3e8 google3/cloud/control2/shared/genericrpc/genericrpc.(*Dispatcher).DefaultMethodHandler(0xc00e26d920, {0x558225d76a88, 0xc152ae4d80}, 0xc1599f6e58)",
          "net/rpc/go/stream.go:1167 +0x43 google3/net/rpc/go/rpc.runStreamHandler({0x558225d76a88?, 0xc152ae4d80?}, 0xc1599f6e58?, {0x0?, 0x0?}, {0x558225d8c120, 0xc1bf0357c0})",
          "net/goa/rpc/rpchandler.go:100 +0x4d7 google3/net/goa/rpc/rpchandler.ExecHandlerSubset({0x558225d76a88?, 0xc1e09791a0?}, 0xc0efd378d0)",
          "net/goa/rpc/rpchandler.go:327 +0x9f5 google3/net/goa/rpc/rpchandler.(*closedRegistry).hook(0xc08e034860, {0x558225d77098, 0xc19a662d20}, 0xc1586c2300)"
        ]
      },
      {
        "@type": "type.googleapis.com/google.rpc.BadRequest",
        "fieldViolations": [
          {
            "description": "Resource name violates RFC 3986",
            "field": "test-pipeline-${uniqueId}"
          }
        ]
      }
    ],
    "message": "Malformed name: 'test-pipeline-${uniqueId}'",
    "status": "INVALID_ARGUMENT"
  }
}

---

GET https://clouddeploy.googleapis.com/v1/projects/${projectId}/locations/us-central1/deliveryPipelines/test-pipeline-${uniqueId}?alt=json
Accept: application/json
Authorization: (removed)
Connection: keep-alive

404 Not Found
Content-Type: application/json; charset=UTF-8
Server: ESF
Vary: Origin
Vary: X-Origin
Vary: Referer
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
X-Xss-Protection: 0

{
  "error": {
    "code": 404,
    "details": [
      {
        "@type": "type.googleapis.com/google.rpc.DebugInfo",
        "detail": "not found: resource not found",
        "stackEntries": [
          "cloud/control2/shared/userfriendly/userfriendly.go:1165 +0x25 google3/cloud/control2/shared/userfriendly/userfriendly.DebugInfoWithMessage({0xc005c22d00, 0x1d})",
          "cloud/control2/shared/userfriendly/userfriendly.go:1160 +0x2b google3/cloud/control2/shared/userfriendly/userfriendly.debugInfoWithError({0x558225c1a738?, 0xc005c863c0?})",
          "cloud/control2/shared/userfriendly/userfriendly.go:556 +0xc5 google3/cloud/control2/shared/userfriendly/userfriendly.NotFound({0x558225d76a88, 0xc10c215950}, {0x558218bf52cf, 0x10}, {0xc0a8ed1e30, 0x67}, {0x558225c1a738, 0xc005c863c0})",
          "cloud/control2/frontend/userfriendly/userfriendly_store.go:89 +0x4a5 google3/cloud/control2/frontend/userfriendly/userfriendlystore.ResourceErrorToUserFriendly({0x558225d76a88, 0xc10c215950}, 0xc0c2269400, {0x558225c1a738, 0xc005c863c0})",
          "cloud/control2/frontend/handler/readonly.go:291 +0x1668 google3/cloud/control2/frontend/handler/handler.Handler.handleGet({{{0x558225d808f0, 0xc002a05240}, {0x0, 0x0}}, {{0xc008238610, 0x1, 0x1}, 0xc009236420, 0xc008238600, {0x558225d92d60, ...}, ...}, ...}, ...)",
          "cloud/control2/frontend/handler/handler.go:393 +0xf1b google3/cloud/control2/frontend/handler/handler.Handler.start({{{0x558225d808f0, 0xc002a05240}, {0x0, 0x0}}, {{0xc008238610, 0x1, 0x1}, 0xc009236420, 0xc008238600, {0x558225d92d60, ...}, ...}, ...}, ...)",
          "cloud/control2/frontend/handler/handler.go:276 +0x66 google3/cloud/control2/frontend/handler/handler.init.func17({_, _}, {{{0x558225d808f0, 0xc002a05240}, {0x0, 0x0}}, {{0xc008238610, 0x1, 0x1}, 0xc009236420, ...}, ...}, ...)",
          "cloud/control2/frontend/handler/handler.go:271 +0x173 google3/cloud/control2/frontend/handler/handler.Handler.HandleRequest({{{0x558225d808f0, 0xc002a05240}, {0x0, 0x0}}, {{0xc008238610, 0x1, 0x1}, 0xc009236420, 0xc008238600, {0x558225d92d60, ...}, ...}, ...}, ...)",
          "cloud/control2/frontend/server/request_handler.go:111 +0x55c google3/cloud/control2/frontend/server/requesthandler.(*Handler).handleRequestWithFullMethodName(0xc009429440, {0x558225d76a88, 0xc14bf94d50}, 0xc0e4c62c00, 0xc15a89f4e8, 0xc15a89f860, {0xc1f7bc0c40?, 0x55821bac73e7?})",
          "cloud/control2/frontend/server/request_handler.go:84 +0x536 google3/cloud/control2/frontend/server/requesthandler.(*Handler).handleRequest(0xc009429440, {0x558225d76a88, 0xc14bf94d50}, 0xc15a89f4e8, 0xc15a89f860)",
          "cloud/control2/frontend/server/request_handler.go:53 +0x25 google3/cloud/control2/frontend/server/requesthandler.(*Handler).handle(0xc04ea25308?, {0x558225d76a88, 0xc14bf94d50}, 0x558223a140c0?, 0xc0ba3bba01?)",
          "cloud/control2/shared/genericrpc/service.go:172 +0x3e8 google3/cloud/control2/shared/genericrpc/genericrpc.(*Dispatcher).DefaultMethodHandler(0xc00e26d920, {0x558225d76a88, 0xc14bf94d50}, 0xc15a89f4e8)",
          "net/rpc/go/stream.go:1167 +0x43 google3/net/rpc/go/rpc.runStreamHandler({0x558225d76a88?, 0xc14bf94d50?}, 0xc15a89f4e8?, {0x0?, 0x0?}, {0x558225d8c120, 0xc20d0c3590})",
          "net/goa/rpc/rpchandler.go:100 +0x4d7 google3/net/goa/rpc/rpchandler.ExecHandlerSubset({0x558225d76a88?, 0xc16dd57950?}, 0xc062af18d0)",
          "net/goa/rpc/rpchandler.go:327 +0x9f5 google3/net/goa/rpc/rpchandler.(*closedRegistry).hook(0xc08e034860, {0x558225d77098, 0xc110f93c80}, 0xc0c2268700)"
        ]
      },
      {
        "@type": "type.googleapis.com/google.rpc.ResourceInfo",
        "resourceName": "projects/${projectId}/locations/us-central1/deliveryPipelines/test-pipeline-${uniqueId}"
      }
    ],
    "message": "Resource 'projects/${projectId}/locations/us-central1/deliveryPipelines/test-pipeline-${uniqueId}' was not found",
    "status": "NOT_FOUND"
  }
}

---

GET https://clouddeploy.googleapis.com/v1/projects/${projectId}/locations/us-central1/targets/test-target-${uniqueId}?alt=json
Accept: application/json
Authorization: (removed)
Connection: keep-alive

404 Not Found
Content-Type: application/json; charset=UTF-8
Server: ESF
Vary: Origin
Vary: X-Origin
Vary: Referer
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
X-Xss-Protection: 0

{
  "error": {
    "code": 404,
    "details": [
      {
        "@type": "type.googleapis.com/google.rpc.DebugInfo",
        "detail": "not found: resource not found",
        "stackEntries": [
          "cloud/control2/shared/userfriendly/userfriendly.go:1165 +0x25 google3/cloud/control2/shared/userfriendly/userfriendly.DebugInfoWithMessage({0xc005c22d00, 0x1d})",
          "cloud/control2/shared/userfriendly/userfriendly.go:1160 +0x2b google3/cloud/control2/shared/userfriendly/userfriendly.debugInfoWithError({0x558225c1a738?, 0xc005c863c0?})",
          "cloud/control2/shared/userfriendly/userfriendly.go:556 +0xc5 google3/cloud/control2/shared/userfriendly/userfriendly.NotFound({0x558225d76a88, 0xc115e51500}, {0x558218bf52cf, 0x10}, {0xc108cf4ea0, 0x5b}, {0x558225c1a738, 0xc005c863c0})",
          "cloud/control2/frontend/userfriendly/userfriendly_store.go:89 +0x4a5 google3/cloud/control2/frontend/userfriendly/userfriendlystore.ResourceErrorToUserFriendly({0x558225d76a88, 0xc115e51500}, 0xc1cfa92f80, {0x558225c1a738, 0xc005c863c0})",
          "cloud/control2/frontend/handler/readonly.go:291 +0x1668 google3/cloud/control2/frontend/handler/handler.Handler.handleGet({{{0x558225d808f0, 0xc002a05240}, {0x0, 0x0}}, {{0xc008238610, 0x1, 0x1}, 0xc009236420, 0xc008238600, {0x558225d92d60, ...}, ...}, ...}, ...)",
          "cloud/control2/frontend/handler/handler.go:393 +0xf1b google3/cloud/control2/frontend/handler/handler.Handler.start({{{0x558225d808f0, 0xc002a05240}, {0x0, 0x0}}, {{0xc008238610, 0x1, 0x1}, 0xc009236420, 0xc008238600, {0x558225d92d60, ...}, ...}, ...}, ...)",
          "cloud/control2/frontend/handler/handler.go:276 +0x66 google3/cloud/control2/frontend/handler/handler.init.func17({_, _}, {{{0x558225d808f0, 0xc002a05240}, {0x0, 0x0}}, {{0xc008238610, 0x1, 0x1}, 0xc009236420, ...}, ...}, ...)",
          "cloud/control2/frontend/handler/handler.go:271 +0x173 google3/cloud/control2/frontend/handler/handler.Handler.HandleRequest({{{0x558225d808f0, 0xc002a05240}, {0x0, 0x0}}, {{0xc008238610, 0x1, 0x1}, 0xc009236420, 0xc008238600, {0x558225d92d60, ...}, ...}, ...}, ...)",
          "cloud/control2/frontend/server/request_handler.go:111 +0x55c google3/cloud/control2/frontend/server/requesthandler.(*Handler).handleRequestWithFullMethodName(0xc009429440, {0x558225d76a88, 0xc0c4e83020}, 0xc0a4a5dd80, 0xc11d97f590, 0xc11d97f8f0, {0xc119fc38c0?, 0x55821bac73e7?})",
          "cloud/control2/frontend/server/request_handler.go:84 +0x536 google3/cloud/control2/frontend/server/requesthandler.(*Handler).handleRequest(0xc009429440, {0x558225d76a88, 0xc0c4e83020}, 0xc11d97f590, 0xc11d97f8f0)",
          "cloud/control2/frontend/server/request_handler.go:53 +0x25 google3/cloud/control2/frontend/server/requesthandler.(*Handler).handle(0xc0d0d51308?, {0x558225d76a88, 0xc0c4e83020}, 0x558223a140c0?, 0xc0bb4c5c01?)",
          "cloud/control2/shared/genericrpc/service.go:172 +0x3e8 google3/cloud/control2/shared/genericrpc/genericrpc.(*Dispatcher).DefaultMethodHandler(0xc00e26d920, {0x558225d76a88, 0xc0c4e83020}, 0xc11d97f590)",
          "net/rpc/go/stream.go:1167 +0x43 google3/net/rpc/go/rpc.runStreamHandler({0x558225d76a88?, 0xc0c4e83020?}, 0xc11d97f590?, {0x0?, 0x0?}, {0x558225d8c120, 0xc10d0ba230})",
          "net/goa/rpc/rpchandler.go:100 +0x4d7 google3/net/goa/rpc/rpchandler.ExecHandlerSubset({0x558225d76a88?, 0xc12d764330?}, 0xc081a578d0)",
          "net/goa/rpc/rpchandler.go:327 +0x9f5 google3/net/goa/rpc/rpchandler.(*closedRegistry).hook(0xc08e034860, {0x558225d77098, 0xc093aa9e00}, 0xc1cfa92400)"
        ]
      },
      {
        "@type": "type.googleapis.com/google.rpc.ResourceInfo",
        "resourceName": "projects/${projectId}/locations/us-central1/targets/test-target-${uniqueId}"
      }
    ],
    "message": "Resource 'projects/${projectId}/locations/us-central1/targets/test-target-${uniqueId}' was not found",
    "status": "NOT_FOUND"
  }
}

---

DELETE https://clouddeploy.googleapis.com/v1/projects/${projectId}/locations/us-central1/deliveryPipelines/test-pipeline-${uniqueId}?alt=json&force=False
Accept: application/json
Authorization: (removed)
Connection: keep-alive

404 Not Found
Content-Type: application/json; charset=UTF-8
Server: ESF
Vary: Origin
Vary: X-Origin
Vary: Referer
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
X-Xss-Protection: 0

{
  "error": {
    "code": 404,
    "details": [
      {
        "@type": "type.googleapis.com/google.rpc.DebugInfo",
        "detail": "not found: resource not found",
        "stackEntries": [
          "cloud/control2/shared/userfriendly/userfriendly.go:1165 +0x25 google3/cloud/control2/shared/userfriendly/userfriendly.DebugInfoWithMessage({0xc0026cdb20, 0x1d})",
          "cloud/control2/shared/userfriendly/userfriendly.go:1160 +0x2b google3/cloud/control2/shared/userfriendly/userfriendly.debugInfoWithError({0x55cb9881a738?, 0xc0015f50c0?})",
          "cloud/control2/shared/userfriendly/userfriendly.go:556 +0xc5 google3/cloud/control2/shared/userfriendly/userfriendly.NotFound({0x55cb98976a88, 0xc1bbae63f0}, {0x55cb8b7f52cf, 0x10}, {0xc1d6bc0fc0, 0x67}, {0x55cb9881a738, 0xc0015f50c0})",
          "cloud/control2/frontend/userfriendly/userfriendly_store.go:89 +0x4a5 google3/cloud/control2/frontend/userfriendly/userfriendlystore.ResourceErrorToUserFriendly({0x55cb98976a88, 0xc1bbae63f0}, 0xc0e234c000, {0x55cb9881a738, 0xc0015f50c0})",
          "cloud/control2/frontend/handler/mutate.go:125 +0x30e google3/cloud/control2/frontend/handler/handler.(*handlerContext).getExistingResourceDetails(0xc19dba6008, {0x55cb98976a88, 0xc1bbae63f0}, {0x55cb9881aa38, 0xc16ab22b00})",
          "cloud/control2/frontend/handler/mutate.go:320 +0xc58 google3/cloud/control2/frontend/handler/handler.Handler.handleResourceMutation({{{0x55cb989808f0, 0xc0062eacc0}, {0x0, 0x0}}, {{0xc008c36f70, 0x1, 0x1}, 0xc008466378, 0xc008c36f60, {0x55cb98992d60, ...}, ...}, ...}, ...)",
          "cloud/control2/frontend/handler/handler.go:375 +0xbbb google3/cloud/control2/frontend/handler/handler.Handler.start({{{0x55cb989808f0, 0xc0062eacc0}, {0x0, 0x0}}, {{0xc008c36f70, 0x1, 0x1}, 0xc008466378, 0xc008c36f60, {0x55cb98992d60, ...}, ...}, ...}, ...)",
          "cloud/control2/frontend/handler/handler.go:276 +0x66 google3/cloud/control2/frontend/handler/handler.init.func17({_, _}, {{{0x55cb989808f0, 0xc0062eacc0}, {0x0, 0x0}}, {{0xc008c36f70, 0x1, 0x1}, 0xc008466378, ...}, ...}, ...)",
          "cloud/control2/frontend/handler/handler.go:271 +0x173 google3/cloud/control2/frontend/handler/handler.Handler.HandleRequest({{{0x55cb989808f0, 0xc0062eacc0}, {0x0, 0x0}}, {{0xc008c36f70, 0x1, 0x1}, 0xc008466378, 0xc008c36f60, {0x55cb98992d60, ...}, ...}, ...}, ...)",
          "cloud/control2/frontend/server/request_handler.go:111 +0x55c google3/cloud/control2/frontend/server/requesthandler.(*Handler).handleRequestWithFullMethodName(0xc00d4057a0, {0x55cb98976a88, 0xc1bbae6210}, 0xc169eba5c0, 0xc1996cac00, 0xc1996caf48, {0xc1a964b880?, 0x17a028e6c7300?})",
          "cloud/control2/frontend/server/request_handler.go:84 +0x536 google3/cloud/control2/frontend/server/requesthandler.(*Handler).handleRequest(0xc00d4057a0, {0x55cb98976a88, 0xc1bbae6210}, 0xc1996cac00, 0xc1996caf48)",
          "cloud/control2/frontend/server/request_handler.go:53 +0x25 google3/cloud/control2/frontend/server/requesthandler.(*Handler).handle(0xc0aa9af308?, {0x55cb98976a88, 0xc1bbae6210}, 0x55cb966140c0?, 0xc0d1308a01?)",
          "cloud/control2/shared/genericrpc/service.go:172 +0x3e8 google3/cloud/control2/shared/genericrpc/genericrpc.(*Dispatcher).DefaultMethodHandler(0xc004c99890, {0x55cb98976a88, 0xc1bbae6210}, 0xc1996cac00)",
          "net/rpc/go/stream.go:1167 +0x43 google3/net/rpc/go/rpc.runStreamHandler({0x55cb98976a88?, 0xc1bbae6210?}, 0xc1996cac00?, {0x0?, 0x0?}, {0x55cb9898c120, 0xc153727cc0})",
          "net/goa/rpc/rpchandler.go:100 +0x4d7 google3/net/goa/rpc/rpchandler.ExecHandlerSubset({0x55cb98976a88?, 0xc105f55dd0?}, 0xc16a3638d0)",
          "net/goa/rpc/rpchandler.go:327 +0x9f5 google3/net/goa/rpc/rpchandler.(*closedRegistry).hook(0xc0b1116560, {0x55cb98977098, 0xc19b1aa960}, 0xc0ef6e3300)"
        ]
      },
      {
        "@type": "type.googleapis.com/google.rpc.ResourceInfo",
        "resourceName": "projects/${projectId}/locations/us-central1/deliveryPipelines/test-pipeline-${uniqueId}"
      }
    ],
    "message": "Resource 'projects/${projectId}/locations/us-central1/deliveryPipelines/test-pipeline-${uniqueId}' was not found",
    "status": "NOT_FOUND"
  }
}
