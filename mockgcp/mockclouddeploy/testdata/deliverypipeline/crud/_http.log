PATCH https://clouddeploy.googleapis.com/v1/projects/${projectId}/locations/us-central1/deliveryPipelines/test-$%7BuniqueId%7D?alt=json&allowMissing=True&updateMask=%2A%2Clabels
Accept: application/json
Authorization: (removed)
Connection: keep-alive
Content-Type: application/json

{
  "description": "test delivery pipeline",
  "name": "projects/${projectId}/locations/us-central1/deliveryPipelines/test-${uniqueId}",
  "serialPipeline": {
    "stages": [
      {
        "targetId": "test-target"
      }
    ]
  }
}

400 Bad Request
Content-Type: application/json; charset=UTF-8
Server: ESF
Vary: Origin
Vary: X-Origin
Vary: Referer
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
X-Xss-Protection: 0

{
  "error": {
    "code": 400,
    "details": [
      {
        "@type": "type.googleapis.com/google.rpc.DebugInfo",
        "detail": "resource ID is not valid RFC 3986: test-${uniqueId}",
        "stackEntries": [
          "cloud/control2/shared/userfriendly/userfriendly.go:1165 +0x25 google3/cloud/control2/shared/userfriendly/userfriendly.DebugInfoWithMessage({0xc1650cecc0, 0x33})",
          "cloud/control2/shared/userfriendly/userfriendly.go:1160 +0x2b google3/cloud/control2/shared/userfriendly/userfriendly.debugInfoWithError({0x559dc601add8?, 0xc14cad78c0?})",
          "cloud/control2/shared/userfriendly/userfriendly.go:847 +0xc5 google3/cloud/control2/shared/userfriendly/userfriendly.MalformedName({0x559dc6176a88, 0xc14cad73e0}, {0xc141253549, 0x10}, {0x559db905c5e6, 0x1f}, {0x559dc601add8, 0xc14cad78c0})",
          "cloud/control2/shared/userfriendly/userfriendly.go:1115 +0x135 google3/cloud/control2/shared/userfriendly/userfriendly.FromInputError({0x559dc6176a88?, 0xc14cad73e0?}, {0x559dc601add8?, 0xc14cad78c0?})",
          "cloud/control2/shared/resourcename/qualifiedname.go:131 +0x4bb google3/cloud/control2/shared/resourcename/nameresolver.(*NameResolver).FromResourcePath(0xc0f38726c0, {0x559dc6176a88, 0xc14cad73e0}, {0xc141253500, 0x59}, 0x0)",
          "cloud/control2/shared/resourcename/qualifiedname.go:110 +0x17f google3/cloud/control2/shared/resourcename/nameresolver.(*NameResolver).FromRequest(0xc0f38726c0, {0x559dc6176a88, 0xc14cad73e0}, {0xc090a6a9a8, 0x18}, 0xc0f38723c0, 0x0)",
          "cloud/control2/frontend/handler/handler.go:364 +0x9f9 google3/cloud/control2/frontend/handler/handler.Handler.start({{{0x559dc61808f0, 0xc00658ce40}, {0x0, 0x0}}, {{0xc00c8fd060, 0x1, 0x1}, 0xc00629a0a8, 0xc00c8fd050, {0x559dc6192d60, ...}, ...}, ...}, ...)",
          "cloud/control2/frontend/handler/handler.go:276 +0x66 google3/cloud/control2/frontend/handler/handler.init.func17({_, _}, {{{0x559dc61808f0, 0xc00658ce40}, {0x0, 0x0}}, {{0xc00c8fd060, 0x1, 0x1}, 0xc00629a0a8, ...}, ...}, ...)",
          "cloud/control2/frontend/handler/handler.go:271 +0x173 google3/cloud/control2/frontend/handler/handler.Handler.HandleRequest({{{0x559dc61808f0, 0xc00658ce40}, {0x0, 0x0}}, {{0xc00c8fd060, 0x1, 0x1}, 0xc00629a0a8, 0xc00c8fd050, {0x559dc6192d60, ...}, ...}, ...}, ...)",
          "cloud/control2/frontend/server/request_handler.go:111 +0x55c google3/cloud/control2/frontend/server/requesthandler.(*Handler).handleRequestWithFullMethodName(0xc010d08120, {0x559dc6176a88, 0xc14cad7170}, 0xc13dbf6080, 0xc1e1aa9368, 0xc0f2167ec0, {0xc14085bdc0?, 0x559dbbec73e7?})",
          "cloud/control2/frontend/server/request_handler.go:84 +0x536 google3/cloud/control2/frontend/server/requesthandler.(*Handler).handleRequest(0xc010d08120, {0x559dc6176a88, 0xc14cad7170}, 0xc1e1aa9368, 0xc0f2167ec0)",
          "cloud/control2/frontend/server/request_handler.go:53 +0x25 google3/cloud/control2/frontend/server/requesthandler.(*Handler).handle(0xc0f4e11308?, {0x559dc6176a88, 0xc14cad7170}, 0x559dc3e140c0?, 0xc07ebde001?)",
          "cloud/control2/shared/genericrpc/service.go:172 +0x3e8 google3/cloud/control2/shared/genericrpc/genericrpc.(*Dispatcher).DefaultMethodHandler(0xc010cfc300, {0x559dc6176a88, 0xc14cad7170}, 0xc1e1aa9368)",
          "net/rpc/go/stream.go:1167 +0x43 google3/net/rpc/go/rpc.runStreamHandler({0x559dc6176a88?, 0xc14cad7170?}, 0xc1e1aa9368?, {0x0?, 0x0?}, {0x559dc618c120, 0xc1356bbae0})",
          "net/goa/rpc/rpchandler.go:100 +0x4d7 google3/net/goa/rpc/rpchandler.ExecHandlerSubset({0x559dc6176a88?, 0xc1982a7f50?}, 0xc0f4e118d0)",
          "net/goa/rpc/rpchandler.go:327 +0x9f5 google3/net/goa/rpc/rpchandler.(*closedRegistry).hook(0xc058c02b60, {0x559dc6177098, 0xc10a527080}, 0xc151e86f00)"
        ]
      },
      {
        "@type": "type.googleapis.com/google.rpc.BadRequest",
        "fieldViolations": [
          {
            "description": "Resource name violates RFC 3986",
            "field": "test-${uniqueId}"
          }
        ]
      }
    ],
    "message": "Malformed name: 'test-${uniqueId}'",
    "status": "INVALID_ARGUMENT"
  }
}

---

GET https://clouddeploy.googleapis.com/v1/projects/${projectId}/locations/us-central1/deliveryPipelines/test-${uniqueId}?alt=json
Accept: application/json
Authorization: (removed)
Connection: keep-alive

404 Not Found
Content-Type: application/json; charset=UTF-8
Server: ESF
Vary: Origin
Vary: X-Origin
Vary: Referer
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
X-Xss-Protection: 0

{
  "error": {
    "code": 404,
    "details": [
      {
        "@type": "type.googleapis.com/google.rpc.DebugInfo",
        "detail": "not found: resource not found",
        "stackEntries": [
          "cloud/control2/shared/userfriendly/userfriendly.go:1165 +0x25 google3/cloud/control2/shared/userfriendly/userfriendly.DebugInfoWithMessage({0xc0002f77c0, 0x1d})",
          "cloud/control2/shared/userfriendly/userfriendly.go:1160 +0x2b google3/cloud/control2/shared/userfriendly/userfriendly.debugInfoWithError({0x5557cb61a738?, 0xc002107c00?})",
          "cloud/control2/shared/userfriendly/userfriendly.go:556 +0xc5 google3/cloud/control2/shared/userfriendly/userfriendly.NotFound({0x5557cb776a88, 0xc0f29b58c0}, {0x5557be5f52cf, 0x10}, {0xc083cb3080, 0x5e}, {0x5557cb61a738, 0xc002107c00})",
          "cloud/control2/frontend/userfriendly/userfriendly_store.go:89 +0x4a5 google3/cloud/control2/frontend/userfriendly/userfriendlystore.ResourceErrorToUserFriendly({0x5557cb776a88, 0xc0f29b58c0}, 0xc1e8ee7d00, {0x5557cb61a738, 0xc002107c00})",
          "cloud/control2/frontend/handler/readonly.go:291 +0x1668 google3/cloud/control2/frontend/handler/handler.Handler.handleGet({{{0x5557cb7808f0, 0xc0062f2680}, {0x0, 0x0}}, {{0xc00b2a4160, 0x1, 0x1}, 0xc0082ae108, 0xc00b2a4150, {0x5557cb792d60, ...}, ...}, ...}, ...)",
          "cloud/control2/frontend/handler/handler.go:393 +0xf1b google3/cloud/control2/frontend/handler/handler.Handler.start({{{0x5557cb7808f0, 0xc0062f2680}, {0x0, 0x0}}, {{0xc00b2a4160, 0x1, 0x1}, 0xc0082ae108, 0xc00b2a4150, {0x5557cb792d60, ...}, ...}, ...}, ...)",
          "cloud/control2/frontend/handler/handler.go:276 +0x66 google3/cloud/control2/frontend/handler/handler.init.func17({_, _}, {{{0x5557cb7808f0, 0xc0062f2680}, {0x0, 0x0}}, {{0xc00b2a4160, 0x1, 0x1}, 0xc0082ae108, ...}, ...}, ...)",
          "cloud/control2/frontend/handler/handler.go:271 +0x173 google3/cloud/control2/frontend/handler/handler.Handler.HandleRequest({{{0x5557cb7808f0, 0xc0062f2680}, {0x0, 0x0}}, {{0xc00b2a4160, 0x1, 0x1}, 0xc0082ae108, 0xc00b2a4150, {0x5557cb792d60, ...}, ...}, ...}, ...)",
          "cloud/control2/frontend/server/request_handler.go:111 +0x55c google3/cloud/control2/frontend/server/requesthandler.(*Handler).handleRequestWithFullMethodName(0xc00c069440, {0x5557cb776a88, 0xc192f9cf60}, 0xc128f9afc0, 0xc12495cb40, 0xc12495ceb8, {0xc1f38f0d90?, 0x37f9c14c7300?})",
          "cloud/control2/frontend/server/request_handler.go:84 +0x536 google3/cloud/control2/frontend/server/requesthandler.(*Handler).handleRequest(0xc00c069440, {0x5557cb776a88, 0xc192f9cf60}, 0xc12495cb40, 0xc12495ceb8)",
          "cloud/control2/frontend/server/request_handler.go:53 +0x25 google3/cloud/control2/frontend/server/requesthandler.(*Handler).handle(0xc0a5a2b308?, {0x5557cb776a88, 0xc192f9cf60}, 0x5557c94140c0?, 0xc0fad0b501?)",
          "cloud/control2/shared/genericrpc/service.go:172 +0x3e8 google3/cloud/control2/shared/genericrpc/genericrpc.(*Dispatcher).DefaultMethodHandler(0xc00b01a7e0, {0x5557cb776a88, 0xc192f9cf60}, 0xc12495cb40)",
          "net/rpc/go/stream.go:1167 +0x43 google3/net/rpc/go/rpc.runStreamHandler({0x5557cb776a88?, 0xc192f9cf60?}, 0xc12495cb40?, {0x0?, 0x0?}, {0x5557cb78c120, 0xc185618050})",
          "net/goa/rpc/rpchandler.go:100 +0x4d7 google3/net/goa/rpc/rpchandler.ExecHandlerSubset({0x5557cb776a88?, 0xc20b0e88a0?}, 0xc13fd0f8d0)",
          "net/goa/rpc/rpchandler.go:327 +0x9f5 google3/net/goa/rpc/rpchandler.(*closedRegistry).hook(0xc0a2dba200, {0x5557cb777098, 0xc10a44a600}, 0xc1e8ee6f00)"
        ]
      },
      {
        "@type": "type.googleapis.com/google.rpc.ResourceInfo",
        "resourceName": "projects/${projectId}/locations/us-central1/deliveryPipelines/test-${uniqueId}"
      }
    ],
    "message": "Resource 'projects/${projectId}/locations/us-central1/deliveryPipelines/test-${uniqueId}' was not found",
    "status": "NOT_FOUND"
  }
}

---

GET https://clouddeploy.googleapis.com/v1/projects/${projectId}/locations/us-central1/deliveryPipelines?alt=json
Accept: application/json
Authorization: (removed)
Connection: keep-alive

200 OK
Content-Type: application/json; charset=UTF-8
Server: ESF
Vary: Origin
Vary: X-Origin
Vary: Referer
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
X-Xss-Protection: 0

{}
