apiVersion: bigquery.cnrm.cloud.google.com/v1beta1
kind: BigQueryTable
metadata:
  annotations:
    cnrm.cloud.google.com/project-id: ${projectId}
  labels:
    cnrm-test: "true"
    key1: value1
    key2: value2
    managed-by-cnrm: "true"
  name: bigquerytable-${uniqueId}
spec:
  datasetRef:
    external: bigquerydataset${uniqueId}
  description: Updated Description of BQ Table
  friendlyName: BigQueryTable Example
  resourceID: bigquerytable-${uniqueId}
  schema: '[{"dataPolicies":[{"name":"mock dataPolicies"}],"description":"Name of
    the entity","mode":"REQUIRED","name":"name","policyTags":{"names":["mock policytags"]},"type":"STRING"},{"description":"atlan
    BQ labels","fields":[{"dataPolicies":[{"name":"mock dataPolicies"}],"description":"key","mode":"NULLABLE","name":"key","policyTags":{"names":["mock
    policytags"]},"type":"STRING"},{"description":"values","mode":"NULLABLE","name":"value","policyTags":{},"type":"STRING"}],"mode":"REPEATED","name":"labels","type":"RECORD"}]'